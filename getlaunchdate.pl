use strict;
use warnings;
use LWP;
use Data::Dumper;

my $ua = LWP::UserAgent->new;
#a = []; $("dt a").each((i,e) => {if($(e).attr("href").match("wiki")){a.push("'https://ja.wikipedia.org" + $(e).attr("href") + "',")}}); a.join("\r\n");
my @links = (
'https://en.wikipedia.org/wiki/USS_Gearing',
'https://en.wikipedia.org/wiki/USS_Eugene_A._Greene',
'https://en.wikipedia.org/wiki/USS_Gyatt',
'https://en.wikipedia.org/wiki/USS_Kenneth_D._Bailey',
'https://en.wikipedia.org/wiki/USS_William_R._Rush_(DD-714)',
'https://en.wikipedia.org/wiki/USS_William_M._Wood_(DD-715)',
'https://en.wikipedia.org/wiki/USS_Wiltsie_(DD-716)',
'https://en.wikipedia.org/wiki/USS_Theodore_E._Chandler_(DD-717)',
'https://en.wikipedia.org/wiki/USS_Hamner_(DD-718)',
'https://en.wikipedia.org/wiki/USS_Epperson_(DD-719)',
'https://en.wikipedia.org/wiki/USS_Frank_Knox_(DD-742)',
'https://en.wikipedia.org/wiki/USS_Southerland_(DD-743)',
'https://en.wikipedia.org/wiki/USS_William_C._Lawe_(DD-763)',
'https://en.wikipedia.org/wiki/USS_Lloyd_Thomas_(DD-764)',
'https://en.wikipedia.org/wiki/USS_Keppler_(DD-765)',
'https://en.wikipedia.org/wiki/USS_Rowan_(DD-782)',
'https://en.wikipedia.org/wiki/USS_Gurke_(DD-783)',
'https://en.wikipedia.org/wiki/USS_McKean_(DD-784)',
'https://en.wikipedia.org/wiki/USS_Henderson_(DD-785)',
'https://en.wikipedia.org/wiki/USS_Richard_B._Anderson_(DD-786)',
'https://en.wikipedia.org/wiki/USS_James_E._Kyes_(DD-787)',
'https://en.wikipedia.org/wiki/USS_Hollister_(DD-788)',
'https://en.wikipedia.org/wiki/USS_Eversole_(DD-789)',
'https://en.wikipedia.org/wiki/USS_Shelton_(DD-790)',
'https://en.wikipedia.org/wiki/USS_Chevalier_(DD-805)',
'https://en.wikipedia.org/wiki/USS_Higbee_(DD-806)',
'https://en.wikipedia.org/wiki/USS_Benner_(DD-807)',
'https://en.wikipedia.org/wiki/USS_Dennis_J._Buckley_(DD-808)',
'https://en.wikipedia.org/wiki/USS_Corry_(DD-817)',
'https://en.wikipedia.org/wiki/USS_New_(DD-818)',
'https://en.wikipedia.org/wiki/USS_Holder_(DD-819)',
'https://en.wikipedia.org/wiki/USS_Rich_(DD-820)',
'https://en.wikipedia.org/wiki/USS_Johnston_(DD-821)',
'https://en.wikipedia.org/wiki/USS_Robert_H._McCard_(DD-822)',
'https://en.wikipedia.org/wiki/USS_Samuel_B._Roberts_(DD-823)',
'https://en.wikipedia.org/wiki/USS_Basilone_(DD-824)',
'https://en.wikipedia.org/wiki/USS_Carpenter_(DD-825)',
'https://en.wikipedia.org/wiki/USS_Agerholm_(DD-826)',
'https://en.wikipedia.org/wiki/USS_Robert_A._Owens_(DD-827)',
'https://en.wikipedia.org/wiki/USS_Timmerman_(DD-828)',
'https://en.wikipedia.org/wiki/USS_Myles_C._Fox_(DD-829)',
'https://en.wikipedia.org/wiki/USS_Everett_F._Larson_(DD-830)',
'https://en.wikipedia.org/wiki/USS_Goodrich_(DD-831)',
'https://en.wikipedia.org/wiki/USS_Hanson_(DD-832)',
'https://en.wikipedia.org/wiki/USS_Herbert_J._Thomas_(DD-833)',
'https://en.wikipedia.org/wiki/USS_Turner_(DD-834)',
'https://en.wikipedia.org/wiki/USS_Charles_P._Cecil_(DD-835)',
'https://en.wikipedia.org/wiki/USS_George_K._MacKenzie_(DD-836)',
'https://en.wikipedia.org/wiki/USS_Sarsfield_(DD-837)',
'https://en.wikipedia.org/wiki/USS_Ernest_G._Small_(DD-838)',
'https://en.wikipedia.org/wiki/USS_Power_(DD-839)',
'https://en.wikipedia.org/wiki/USS_Glennon_(DD-840)',
'https://en.wikipedia.org/wiki/USS_Noa_(DD-841)',
'https://en.wikipedia.org/wiki/USS_Fiske_(DD-842)',
'https://en.wikipedia.org/wiki/USS_Warrington_(DD-843)',
'https://en.wikipedia.org/wiki/USS_Perry_(DD-844)',
'https://en.wikipedia.org/wiki/USS_Bausell_(DD-845)',
'https://en.wikipedia.org/wiki/USS_Ozbourn_(DD-846)',
'https://en.wikipedia.org/wiki/USS_Robert_L._Wilson_(DD-847)',
'https://en.wikipedia.org/wiki/USS_Witek_(DD-848)',
'https://en.wikipedia.org/wiki/USS_Richard_E._Kraus_(DD-849)',
'https://en.wikipedia.org/wiki/USS_Joseph_P._Kennedy_Jr._(DD-850)',
'https://en.wikipedia.org/wiki/USS_Rupertus_(DD-851)',
'https://en.wikipedia.org/wiki/USS_Leonard_F._Mason_(DD-852)',
'https://en.wikipedia.org/wiki/USS_Charles_H._Roan_(DD-853)',
'https://en.wikipedia.org/wiki/USS_Fred_T._Berry_(DD-858)',
'https://en.wikipedia.org/wiki/USS_Norris_(DD-859)',
'https://en.wikipedia.org/wiki/USS_McCaffery_(DD-860)',
'https://en.wikipedia.org/wiki/USS_Harwood_(DD-861)',
'https://en.wikipedia.org/wiki/USS_Vogelgesang_(DD-862)',
'https://en.wikipedia.org/wiki/USS_Steinaker_(DD-863)',
'https://en.wikipedia.org/wiki/USS_Harold_J._Ellison_(DD-864)',
'https://en.wikipedia.org/wiki/USS_Charles_R._Ware_(DD-865)',
'https://en.wikipedia.org/wiki/USS_Cone_(DD-866)',
'https://en.wikipedia.org/wiki/USS_Stribling_(DD-867)',
'https://en.wikipedia.org/wiki/USS_Brownson_(DD-868)',
'https://en.wikipedia.org/wiki/USS_Arnold_J._Isbell_(DD-869)',
'https://en.wikipedia.org/wiki/USS_Fechteler_(DD-870)',
'https://en.wikipedia.org/wiki/USS_Damato_(DD-871)',
'https://en.wikipedia.org/wiki/USS_Forrest_Royal_(DD-872)',
'https://en.wikipedia.org/wiki/USS_Hawkins_(DD-873)',
'https://en.wikipedia.org/wiki/USS_Hawkins_(DD-873)',
'https://en.wikipedia.org/wiki/USS_Duncan_(DD-874)',
'https://en.wikipedia.org/wiki/USS_Henry_W._Tucker_(DD-875)',
'https://en.wikipedia.org/wiki/USS_Rogers_(DD-876)',
'https://en.wikipedia.org/wiki/USS_Perkins_(DD-877)',
'https://en.wikipedia.org/wiki/USS_Vesole_(DD-878)',
'https://en.wikipedia.org/wiki/USS_Leary_(DD-879)',
'https://en.wikipedia.org/wiki/USS_Dyess_(DD-880)',
'https://en.wikipedia.org/wiki/USS_Bordelon_(DD-881)',
'https://en.wikipedia.org/wiki/USS_Furse_(DD-882)',
'https://en.wikipedia.org/wiki/USS_Newman_K._Perry_(DD-883)',
'https://en.wikipedia.org/wiki/USS_Floyd_B._Parks_(DD-884)',
'https://en.wikipedia.org/wiki/USS_John_R._Craig_(DD-885)',
'https://en.wikipedia.org/wiki/USS_Orleck_(DD-886)',
'https://en.wikipedia.org/wiki/USS_Brinkley_Bass_(DD-887)',
'https://en.wikipedia.org/wiki/USS_Stickell_(DD-888)',
'https://en.wikipedia.org/wiki/USS_O%27Hare_(DD-889)',
'https://en.wikipedia.org/wiki/USS_Meredith_(DD-890)',
'https://en.wikipedia.org/wiki/USS_Castle_(DD-720)',
'https://en.wikipedia.org/wiki/USS_Woodrow_R._Thompson_(DD-721)',
'https://en.wikipedia.org/wiki/USS_Lansdale_(DD-766)',
'https://en.wikipedia.org/wiki/USS_Seymour_D._Owens_(DD-767)',
'https://en.wikipedia.org/wiki/USS_Hoel_(DD-768)',
'https://en.wikipedia.org/wiki/USS_Abner_Read_(DD-769)',
'https://en.wikipedia.org/wiki/USS_Seaman_(DD-791)',
'https://en.wikipedia.org/wiki/Argentine_Navy',
'https://en.wikipedia.org/wiki/USS_Perkins_(DD-877)',
'https://en.wikipedia.org/wiki/USS_Perkins_(DD-877)',
'https://en.wikipedia.org/wiki/Brazilian_Navy',
'https://en.wikipedia.org/wiki/USS_Henry_W._Tucker_(DD-875)',
'https://en.wikipedia.org/wiki/USS_Brinkley_Bass_(DD-887)',
'https://en.wikipedia.org/wiki/Republic_of_China_Navy',
'https://en.wikipedia.org/wiki/Chao_Yang-class_destroyer',
'https://en.wikipedia.org/wiki/USS_Rowan_(DD-782)',
'https://en.wikipedia.org/wiki/USS_Ernest_G._Small_(DD-838)',
'https://en.wikipedia.org/wiki/USS_Lloyd_Thomas_(DD-764)',
'https://en.wikipedia.org/wiki/USS_James_E._Kyes_(DD-787)',
'https://en.wikipedia.org/wiki/USS_Herbert_J._Thomas_(DD-833)',
'https://en.wikipedia.org/wiki/USS_Shelton_(DD-790)',
'https://en.wikipedia.org/wiki/USS_Hanson_(DD-832)',
'https://en.wikipedia.org/wiki/USS_Power_(DD-839)',
'https://en.wikipedia.org/wiki/USS_Richard_B._Anderson_(DD-786)',
'https://en.wikipedia.org/wiki/USS_Sarsfield_(DD-837)',
'https://en.wikipedia.org/wiki/USS_Leonard_F._Mason_(DD-852)',
'https://en.wikipedia.org/wiki/USS_Hamner_(DD-718)',
'https://en.wikipedia.org/wiki/USS_Johnston_(DD-821)',
'https://en.wikipedia.org/wiki/USS_Hollister_(DD-788)',
'https://en.wikipedia.org/wiki/USS_Hawkins_(DD-873)',
'https://en.wikipedia.org/wiki/Ecuadorian_Navy',
'https://en.wikipedia.org/wiki/USS_Holder_(DD-819)',
'https://en.wikipedia.org/wiki/Hellenic_Navy',
'https://en.wikipedia.org/wiki/USS_Frank_Knox_(DD-742)',
'https://en.wikipedia.org/wiki/USS_Stickell_(DD-888)',
'https://en.wikipedia.org/wiki/USS_Rupertus_(DD-851)',
'https://en.wikipedia.org/wiki/USS_Arnold_J._Isbell_(DD-869)',
'https://en.wikipedia.org/wiki/USS_Gurke_(DD-783)',
'https://en.wikipedia.org/wiki/USS_Charles_P._Cecil_(DD-835)',
'https://en.wikipedia.org/wiki/USS_Corry_(DD-817)',
'https://en.wikipedia.org/wiki/Islamic_Republic_of_Iran_Navy',
'https://en.wikipedia.org/wiki/Republic_of_Korea_Navy',
'https://en.wikipedia.org/wiki/Chungbuk-class_destroyer',
'https://en.wikipedia.org/wiki/USS_Chevalier_(DD-805)',
'https://en.wikipedia.org/wiki/USS_Everett_F._Larson_(DD-830)',
'https://en.wikipedia.org/wiki/USS_New_(DD-818)',
'https://en.wikipedia.org/wiki/USS_Richard_E._Kraus_(DD-849)',
'https://en.wikipedia.org/wiki/USS_William_R._Rush_(DD-714)',
'https://en.wikipedia.org/wiki/USS_Newman_K._Perry_(DD-883)',
'https://en.wikipedia.org/wiki/USS_Rogers_(DD-876)',
'https://en.wikipedia.org/wiki/Mexican_Navy',
'https://en.wikipedia.org/wiki/Quetzalc%C3%B3atl-class_destroyer',
'https://en.wikipedia.org/wiki/ARM_Netzahualc%C3%B3yotl_(D-102)',
'https://en.wikipedia.org/wiki/USS_Vogelgesang_(DD-862)',
'https://en.wikipedia.org/wiki/USS_Vogelgesang_(DD-862)',
'https://en.wikipedia.org/wiki/Pakistan_Navy',
'https://en.wikipedia.org/wiki/Alamgir-class_destroyer',
'https://en.wikipedia.org/wiki/USS_Cone_(DD-866)',
'https://en.wikipedia.org/wiki/USS_Harold_J._Ellison_(DD-864)',
'https://en.wikipedia.org/wiki/USS_Wiltsie_(DD-716)',
'https://en.wikipedia.org/wiki/USS_Wiltsie_(DD-716)',
'https://en.wikipedia.org/wiki/USS_Epperson_(DD-719)',
'https://en.wikipedia.org/wiki/USS_Henderson_(DD-785)',
'https://en.wikipedia.org/wiki/USS_Henderson_(DD-785)',
'https://en.wikipedia.org/wiki/USS_Damato_(DD-871)',
'https://en.wikipedia.org/wiki/Spanish_Navy',
'https://en.wikipedia.org/wiki/USS_Eugene_A._Greene_(DD-711)',
'https://en.wikipedia.org/wiki/USS_Furse_(DD-882)',
'https://en.wikipedia.org/wiki/USS_O%27Hare_(DD-889)',
'https://en.wikipedia.org/wiki/USS_Leary_(DD-879)',
'https://en.wikipedia.org/wiki/USS_Noa_(DD-841)',
'https://en.wikipedia.org/wiki/Turkish_Navy',
'https://en.wikipedia.org/wiki/USS_Orleck_(DD-886)',
'https://en.wikipedia.org/wiki/USS_Meredith_(DD-890)',
'https://en.wikipedia.org/wiki/USS_Robert_H._McCard_(DD-822)',
'https://en.wikipedia.org/wiki/USS_Fiske_(DD-842)',
'https://en.wikipedia.org/wiki/USS_Charles_H._Roan_(DD-853)',
'https://en.wikipedia.org/wiki/USS_Eversole_(DD-789)',
'https://en.wikipedia.org/wiki/USS_Forrest_Royal_(DD-872)',
'https://en.wikipedia.org/wiki/USS_Harwood_(DD-861)',
'https://en.wikipedia.org/wiki/USS_Norris_(DD-859)',
'https://en.wikipedia.org/wiki/USS_Keppler_(DD-765)',
'https://en.wikipedia.org/wiki/USS_Robert_A._Owens_(DD-827)',
'https://en.wikipedia.org/wiki/USS_Carpenter_(DD-825)',

);

foreach my $link (@links) {
	my $req = HTTP::Request->new(GET => $link);
	my $rsp = $ua->request($req);
	my $txt = $rsp->content; # 年3月16日
	# if ($txt =~ /進水<\/td>(?:\n|\r)?<td>[^\r\n]+(\d+)年[^\r\n]+(\d+)月[^\r\n]+(\d+)日/) {
		print "nope\n" if $rsp->is_error();
	# }
	# die;
	# my ($y, $m, $d) = $txt =~ /進水<\/t(?:d|h)>[\r\n]*?<td[^\r\n]*?(\d+)年[^\r\n]*?(\d+)月[^\r\n]*?(\d+)日/;
	# my ($n) = $txt =~ /id="firstHeading"[^\/<]+>([^\/>]+)</;
	my ($d, $m, $y) = $txt =~ /Launched:<\/t(?:d|h)>[\r\n]*?<td[^\r\n]*?(\d+) ([A-z]+) [^\r\n]*?(\d+)/;
	my ($n) = $txt =~ /id="firstHeading"[^\/<]+>([^)]+\)?)<\/h1>/;
	 # $dt =~ /(\d+)\x{5e74}(\d+)\x{6708}(\d+)\x{65e5}/;
	# print $y; die;
	print {*STDOUT} qq({"name" : "$n", "year" : ") . ($y // "") . qq(", "month" : ") . ($m // "") . qq(", "day" : ") . ($d // "") . qq("},\n);
	# die;
}
